<!DOCTYPE html>
<html>
<head>
  <title>GLF Form Dashboard</title>
  <style>
    body { font-family: sans-serif; margin: 40px; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    th, td { padding: 10px; border: 1px solid #ccc; vertical-align: top; }
    th { background-color: #244556; color: white; }
    h1 { color: #244556; }
    ul { margin: 0; padding-left: 20px; }
  </style>
</head>
<body>
  <h1>GLF Form Submissions</h1>

  <table>
    <thead>
      <tr>
        <th>Date</th>
        <th>Text</th>
        <th>Date Field</th>
        <th>Select</th>
        <th>Radio</th>
        <th>Telephone</th>
        <th>Email</th>
        <th>Textarea</th>
        <th>Number</th>
        <th>Checkboxes</th>
        <th>Single File</th>
        <th>Multiple Files</th>
      </tr>
    </thead>
    <tbody>
      <% submissions.forEach(sub => { %>
        <tr>
          <td><%= new Date(sub._id.getTimestamp()).toLocaleString() %></td>
          <td><%= sub.textValue || '' %></td>
          <td><%= sub.dateValue || '' %></td>
          <td><%= sub.selectValue || '' %></td>
          <td><%= sub.radioValue || '' %></td>
          <td><%= sub.telValue || '' %></td>
          <td><%= sub.emailValue || '' %></td>
          <td><%= sub.textareaValue || '' %></td>
          <td><%= sub.numberValue || '' %></td>
          <td>
            <ul>
              <% (sub.checkboxValues || []).forEach(item => { %>
                <li><%= item %></li>
              <% }) %>
            </ul>
          </td>
          <td>
  <% if (sub.uploadedSingleFile && sub.uploadedSingleFile.length) { %>
    <% sub.uploadedSingleFile.forEach(doc => { %>
      <% if (/\.(jpg|jpeg|png|gif)$/i.test(doc.name)) { %>
        <img src="<%= doc.url %>" alt="<%= doc.name %>" width="80" />
      <% } else { %>
        <a href="<%= doc.url %>" target="_blank"><%= doc.name %></a>
      <% } %>
    <% }) %>
  <% } else { %>
    <span>No Document</span>
  <% } %>
</td>
          <td>
  <ul>
    <% if (sub.uploadedMultipleFiles && sub.uploadedMultipleFiles.length) { %>
      <% sub.uploadedMultipleFiles.forEach(doc => { %>
        <li>
          <% if (/\.(jpg|jpeg|png|gif)$/i.test(doc.name)) { %>
            <img src="<%= doc.url %>" alt="<%= doc.name %>" width="60" />
          <% } else { %>
            <a href="<%= doc.url %>" target="_blank"><%= doc.name %></a>
          <% } %>
        </li>
      <% }) %>
    <% } else { %>
      <li>No Documents</li>
    <% } %>
  </ul>
</td>

<td>
  <ul>
    <% if (sub.uploadedDocuments && sub.uploadedDocuments.length) { %>
      <% sub.uploadedDocuments.forEach(doc => { %>
        <li>
          <% if (/\.(jpg|jpeg|png|gif)$/i.test(doc.name)) { %>
            <img src="<%= doc.url %>" alt="<%= doc.name %>" width="80" />
          <% } else { %>
            <a href="<%= doc.url %>" target="_blank"><%= doc.name %></a>
          <% } %>
        </li>
      <% }) %>
    <% } else { %>
      <li>No Documents</li>
    <% } %>
  </ul>
</td>
        </tr>
      <% }) %>
    </tbody>
  </table>
</body>
</html>
